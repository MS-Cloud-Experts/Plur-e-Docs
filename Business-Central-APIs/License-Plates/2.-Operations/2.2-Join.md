### Proceso de Join (Unión) de License Plates (LP)

#### Objetivo:
El proceso de Join (Unión) de License Plates (LP) permite combinar varios LPs en uno solo, consolidando las cantidades y ubicaciones de los ítems. Este proceso es esencial para optimizar el espacio de almacenamiento y simplificar la gestión del inventario, especialmente en situaciones donde se necesita consolidar inventarios dispersos para facilitar su manejo o envío.

---

### Escenarios del Proceso de Join

#### **Escenario 1: Unión de LPs en la Misma Ubicación**

**Caso 1.1:**

- **Descripción:**
  - Los LPs seleccionados (LP001 y LP002) se encuentran en la misma ubicación (Bin Code). El usuario desea consolidar las cantidades de estos LPs en un único LP de destino.
- **Acción:**
  - El sistema permite la unión directa de los LPs, transfiriendo las cantidades de LP001 y LP002 a un nuevo LP (LP003).
- **Regla:**
  - Los LPs originales (LP001 y LP002) se marcan como "Joined" y no pueden ser utilizados en otras operaciones.
- **Ejemplo:**
  - **Estado Inicial:**
    - LP001 tiene 50 unidades en la ubicación BIN01.
    - LP002 tiene 70 unidades en la misma ubicación BIN01.
  - **Solicitud de Join:**
    - Consolidar LP001 y LP002 en LP003.
  - **Resultado:**
    - LP003 contiene 120 unidades en BIN01.
    - LP001 y LP002 se marcan como "Joined".

---

### Reglas Generales y Restricciones:

1. **Consistencia de Atributos:**
   - Solo se pueden unir LPs con el mismo `Item No.`, `Variant Code`, y `Unit of Measure`. Los LPs que no cumplan con estos criterios serán bloqueados en el proceso de unión.
   
2. **Validación de Ubicación:**
   - Los LPs deben estar en la misma ubicación (Bin Code) para que el proceso de unión sea permitido. Si están en ubicaciones diferentes, el proceso de unión no se puede realizar.

3. **Manejo del Estado de los LPs:**
   - Los LPs originales se marcan como "Joined" después de la unión, y ya no pueden ser utilizados en otras operaciones.
   
4. **Integridad del Inventario:**
   - El sistema debe asegurar que las cantidades totales en el LP de destino reflejen correctamente la suma de las cantidades unidas de los LPs originales.

5. **Registro de Movimientos:**
   - Todos los movimientos de cantidades deben registrarse en la tabla "PLU LP Movements" para mantener una trazabilidad completa.

---

### Consideraciones Adicionales:

- **Auditoría y Trazabilidad:**
  - El proceso de unión debe ser completamente trazable, con registros detallados de los movimientos y cambios de estado en el inventario.

- **Compatibilidad de Estados:**
  - Solo se pueden unir LPs que estén en estados que permitan la consolidación, como "Stored" o "Received". Los LPs en estados "Blocked" o "Reserved" deben ser excluidos del proceso.

- **Reversibilidad del Proceso:**
  - Se debe considerar la implementación de un mecanismo que permita deshacer la unión en caso de errores detectados después de completado el proceso.